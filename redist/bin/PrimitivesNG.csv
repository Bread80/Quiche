,,Table of available Primitives,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,"The parser will search this list to ascertain that a combination of parameter types and operator is available, and the result type that combination will return.",,,,,,,,,,,,,,,,,,,,
,,The code generator will search this list to find the optimum routine to generate for the combination of parameter types and locations.,,,,,,,,,,,,,,,,,,,,
,,The register allocater will use the list to choose registers to parameters and results to.,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,For full documentation see TPrimitive record in the Def.Primitives.pas file,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,"Valid values for Lreg, Rregs and ResultRegs:",,,,,,,,,,,,,,,,,,,,
,,,"imm, static, stack, or a semicolon separated list of CPU registers and flags. Imm is invalid for ResultReg.",,,,,,,,,,,,,,,,,,,
,,,"imm, static, stack cannot be included in a list or locations - they must be the only value given",,,,,,,,,,,,,,,,,,,
,,,"Where imm, static or stack are given another variant which uses register must (usually!) be available",,,,,,,,,,,,,,,,,,,
,,"Lines will be ignored if they begin with a semicolon, or if Operation column is empty",,,,,,,,,,,,,,,,,,,,
,,Terminate the file with 'END' in capitals in first column,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,;Notes: Ordering of items in the table is significant!,,,,,,,,,,,,,,,,,,,,
,,,;All handlers for an operation must be grouped together,,,,,,,,,,,,,,,,,,,
,,,;Smaller types /should/ be listed before larger types (but not currently a requirement),,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,Binary operators,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,
;,,----Primitive Selection----,,,,,,,----Primitive Data----,,,,,KEEP!!,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,add,Byte,Byte,y,Byte,x,x,,add8_reg_imm,,,,,,,c_overflow,m_range,,,,,
,add,Byte,Byte,y,Byte,x,x,,add8_reg_reg,,,,,,,c_overflow,m_range,,,,,
,add,Int8,Int8,y,Int8,x,x,,add8_reg_imm,,,,,,,pe_overflow,,m_range,,m_range,,
,add,Int8,Int8,y,Int8,x,x,,add8_reg_reg,,,,,,,pe_overflow,,m_range,,m_range,,
,add,Word,Word,y,Word,y,x,,add16_overflow,,,,,,,c_overflow,,,m_range,,"Uses ADC HL,ss which does set sign flag",
,add,Word,Word,y,Word,x,x,,add16_nooverflow,,,,,,,c_overflow,,,,,"Uses ADD HL,ss which doesn't set flags needed for conversions, but is faster",
,add,Integer,Integer,y,Integer,y,x,,add16_overflow,,,,,,,pe_overflow,,,,m_range,"Uses ADC HL,ss which sets all flags",
,add,Integer,Integer,y,Integer,n,x,,add16_nooverflow,,,,,,,,,,,,"Uses ADD HL,ss",
,add,Integer,Word,y,Integer,n,x,,add16_nooverflow,,,,,,,,,,,,"Uses ADD HL,ss",
,add,Integer,Word,y,Word,n,x,,add16_nooverflow,,,,,,,,,,,,"Uses ADD HL,ss",
,add,Integer,Word,y,Integer,y,x,,:add16_s_u__s_raise_errors,,,hl,de,hl,hl;de;bc;f,empty,,,,,Add signed to unsigned returning signed. Overflow raised by routine.,
,add,Integer,Word,y,Word,y,x,,:add16_s_u__u_raise_errors,,,hl,de,hl,hl;de;bc;f,empty,,,,,Addsigned to unsigned returning unsigned. Overflow raised by routine,
;,add,Char,Char,n,String,x,x,,:concat_char,,,a,l,hl,?,empty,,,,,c+c,
;,add,Char,String,n,String,x,x,,:concat_char_string,,,a,hl,hl,?,empty,,,,,c+s,
;,add,String,Char,n,String,x,x,,:concat_string_char,,,hl,a,hl,?,empty,,,,,s+c,
;,add,String,String,n,String,x,x,,:concat_string,,,hl,de,hl,?,empty,,,,,s+s,
,,,,,,,,,,,,,,,,,,,,,,
,subtract,Byte,Byte,n,Byte,x,x,,sub8_reg_imm,,,,,,,c_overflow,m_rangecheck,,,,,
,subtract,Byte,Byte,n,Byte,x,x,,sub8_reg_reg,,,,,,,c_overflow,m_rangecheck,,,,,
,subtract,Int8,Int8,n,Int8,x,x,,sub8_reg_imm,,,,,,,pe_overflow,,m_range,,m_range,,
,subtract,Int8,Int8,n,Int8,x,x,,sub8_reg_reg,,,,,,,pe_overflow,,m_range,,m_range,,
,subtract,Word,Word,n,Word,x,x,,sub16,,,,,,,c_overflow,,,m_range,,,
,subtract,Integer,Integer,n,Integer,x,x,,sub16,,,,,,,pe_overflow,,,,m_range,,
,subtract,Integer,Word,n,Integer,n,x,,sub16,,,,,,,,,,,,,
,subtract,Integer,Word,n,Word,n,x,,sub16,,,,,,,,,,,,,
,subtract,Word,Integer,n,Integer,n,x,,sub16,,,,,,,,,,,,,
,subtract,Word,Integer,n,Word,n,x,,sub16,,,,,,,,,,,,,
,subtract,Integer,Word,n,Integer,y,x,,:sub16_s_u__s_raise_errors,,,hl,de,hl,h;l;f,empty,,,,,"First param is the S16, output is s16",
,subtract,Word,Integer,n,Integer,y,x,,:sub16_u_s__s_raise_errors,,,hl,de,hl,h;l;f,empty,,,,,"First param is the u16, output is s16",
,subtract,Integer,Word,n,Word,y,x,,:sub16_s_u__u_raise_errors,,,hl,de,hl,h;l;f,empty,,,,,"First param is the S16, output is u16",
,subtract,Word,Integer,n,Word,y,x,,:sub16_u_s__u_raise_errors,,,hl,de,hl,h;l;f,empty,,,,,"First param is the u16, output is u16",
,,,,,,,,,,,,,,,,,,,,,,
,multiply,Byte,Byte,y,Byte,x,x,,:mult8_h_e__hl,,,h,e,l,a;f;b;d;e;h;l,hreg_nz_overflow,,,,,,
,multiply,Byte,Byte,y,Word,x,x,,:mult8_h_e__hl,,,h,e,hl,a;f;b;d;e;h;l,empty,,,,,"Technically we could do this, but it violates other expression parsing rules.",
,multiply,Integer,Integer,y,Integer,x,x,,:mult16_s_s__s,,,hl,de,hl,a;f;b;d;e;h;l,nc_overflow,,,,,,
,multiply,Word,Word,y,Word,x,x,,:mult16_u_u__u,,,hl,de,hl,a;f;d;e;h;l,c_overflow,,,,,,
,multiply,Integer,Word,y,Integer,x,x,,:mult16_s_u__s,,,hl,de,hl,a;f;b;d;e;h;l,nc_overflow,,,,,,
,multiply,Integer,Word,y,Word,x,x,,:mult16_s_u__u,,,hl,de,hl,a;f;b;d;e;h;l,nc_overflow,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,div,Byte,Byte,n,Byte,x,x,,:div8_c_d__c_a,,,c,d,c,a;f;b;c,empty,,,,,,
,div,Word,Word,n,Word,x,x,,:div16_u_u__u,,,hl,de,hl,a;f;b;c;d;e;h;l,empty,,,,,,
,div,Integer,Integer,n,Integer,x,x,,:div16_s_s__s,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,div,Integer,Word,n,Integer,x,x,,:div16_s_u__s,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,div,Word,Integer,n,Integer,x,x,,:div16_u_s__s,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,div,Integer,Word,n,Word,x,x,,:div16_s_u__u,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,div,Word,Integer,n,Word,x,x,,:div16_u_s__u,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,mod,Byte,Byte,n,Byte,x,x,,:div8_c_d__c_a,,,c,d,a,a;f;b;c,empty,,,,,,
,mod,Word,Word,n,Word,x,x,,:div16_u_u__u,,,hl,de,de,a;f;b;c;d;e;h;l,empty,,,,,,
,mod,Integer,Integer,n,Integer,x,x,,:mod16_s_s__s,,,hl,de,hl,a;f;b;c;d;e;h;l,empty,,,,,,
,mod,Integer,Word,n,Integer,x,x,,:mod16_s_u__s,,,hl,de,hl,a;f;b;c;d;e;h;l,empty,,,,,,
,mod,Word,Integer,n,Integer,x,x,,:mod16_u_s__s,,,hl,de,de,a;f;b;c;d;e;h;l,empty,,,,,,
,mod,Integer,Word,n,Word,x,x,,:mod16_s_u__u,,,hl,de,hl,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,mod,Word,Integer,n,Word,x,x,,:mod16_u_s__u,,,hl,de,de,a;f;b;c;d;e;h;l,nc_overflow,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,shl,Byte,Byte,n,LType,x,x,,:left_shift_8_by_8,,,a,b,a,,,,,,,This is crying out for optimised routines for constant shift values,
,shl,Byte,Int8,n,LType,x,x,,:left_shift_8_by_8,,,a,b,a,,,,,,,,
,shl,Byte,Word,n,LType,x,x,,:left_shift_8_by_16,,,a,bc,a,,,,,,,,
,shl,Byte,Integer,n,LType,x,x,,:left_shift_8_by_16,,,a,bc,a,,,,,,,,
,shl,Int8,Byte,n,LType,x,x,,:left_shift_8_by_8,,,a,b,a,,,,,,,,
,shl,Int8,Int8,n,LType,x,x,,:left_shift_8_by_8,,,a,b,a,,,,,,,,
,shl,Int8,Word,n,LType,x,x,,:left_shift_8_by_16,,,a,bc,a,,,,,,,,
,shl,Int8,Integer,n,LType,x,x,,:left_shift_8_by_16,,,a,bc,a,,,,,,,,
,shl,Integer,Byte,n,LType,x,x,,:left_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shl,Integer,Int8,n,LType,x,x,,:left_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shl,Integer,Word,n,LType,x,x,,:left_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shl,Integer,Integer,n,LType,x,x,,:left_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shl,Word,Byte,n,LType,x,x,,:left_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shl,Word,Int8,n,LType,x,x,,:left_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shl,Word,Integer,n,LType,x,x,,:left_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shl,Word,Word,n,LType,x,x,,:left_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,shr,Byte,Byte,n,LType,x,x,,:right_shift_8_by_8,,,a,b,a,,,,,,,,
,shr,Byte,Int8,n,LType,x,x,,:right_shift_8_by_8,,,a,b,a,,,,,,,,
,shr,Byte,Word,n,LType,x,x,,:right_shift_8_by_16,,,a,bc,a,,,,,,,,
,shr,Byte,Integer,n,LType,x,x,,:right_shift_8_by_16,,,a,bc,a,,,,,,,,
,shr,Int8,Byte,n,LType,x,x,,:right_shift_8_by_8,,,a,b,a,,,,,,,,
,shr,Int8,Int8,n,LType,x,x,,:right_shift_8_by_8,,,a,b,a,,,,,,,,
,shr,Int8,Word,n,LType,x,x,,:right_shift_8_by_16,,,a,bc,a,,,,,,,,
,shr,Int8,Integer,n,LType,x,x,,:right_shift_8_by_16,,,a,bc,a,,,,,,,,
,shr,Integer,Byte,n,LType,x,x,,:right_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shr,Integer,Int8,n,LType,x,x,,:right_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shr,Integer,Word,n,LType,x,x,,:right_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shr,Integer,Integer,n,LType,x,x,,:right_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shr,Word,Byte,n,LType,x,x,,:right_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shr,Word,Int8,n,LType,x,x,,:right_shift_16_by_8,,,hl,b,hl,,,,,,,,
,shr,Word,Integer,n,LType,x,x,,:right_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,shr,Word,Word,n,LType,x,x,,:right_shift_16_by_16,,,hl,bc,hl,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,equal,Byte,Byte,y,<Flag>,x,x,,compare8_reg_imm,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Byte,Byte,y,<Flag>,x,x,,compare8_reg_reg,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Byte,Byte,y,Boolean,x,x,,sub8_reg_imm,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Byte,Byte,y,Boolean,x,x,,sub8_reg_reg,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Int8,Int8,y,<Flag>,x,x,,compare8_reg_imm,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Int8,Int8,y,<Flag>,x,x,,compare8_reg_reg,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Int8,Int8,y,Boolean,x,x,,sub8_reg_imm,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Int8,Int8,y,Boolean,x,x,,sub8_reg_reg,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Word,Word,y,<Flag>,x,x,,:compare_u16,,,hl,de,zf,a;f,empty,,,,,,
,equal,Word,Word,y,Boolean,x,x,,:compare_u16,,,hl,de,zf,a;f,empty,,,,,,
,equal,Integer,Integer,y,<Flag>,x,x,,:compare_u16,,,hl,de,zf,a;f,empty,,,,,,
,equal,Integer,Integer,y,Boolean,x,x,,:compare_u16,,,hl,de,zf,a;f,empty,,,,,,
,equal,Word,Integer,y,<Flag>,x,x,,:equal_m16,,,hl,de,zf,a;h;l;f,empty,,,,,,
,equal,Integer,Word,y,<Flag>,x,x,,:equal_m16,,,hl,de,zf,a;h;l;f,empty,,,,,,
,equal,Word,Integer,y,Boolean,x,x,,:equal_m16,,,hl,de,zf,a;h;l;f,empty,,,,,,
,equal,Integer,Word,y,Boolean,x,x,,:equal_m16,,,hl,de,zf,a;h;l;f,empty,,,,,,
,equal,Boolean,Boolean,y,<Flag>,x,x,,xor8_reg_imm,,,,,zf,,empty,,,,,,
,equal,Boolean,Boolean,y,<Flag>,x,x,,xor8_reg_reg,,,,,zf,,empty,,,,,,
,equal,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_imm,,,,,cpla,,empty,,,,,Result in complement (invert) of A,
,equal,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_reg,,,,,cpla,,empty,,,,,Result in complement (invert) of A,
,equal,Char,Char,y,<Flag>,x,x,,compare8_reg_imm,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Char,Char,y,<Flag>,x,x,,compare8_reg_reg,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Char,Char,y,Boolean,x,x,,sub8_reg_imm,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Char,Char,y,Boolean,x,x,,sub8_reg_reg,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Enumeration,Enumeration,y,<Flag>,x,x,,compare8_reg_imm,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Enumeration,Enumeration,y,<Flag>,x,x,,compare8_reg_reg,,,,,zf,,empty,,,,,For branches - only sets flag,
,equal,Enumeration,Enumeration,y,Boolean,x,x,,sub8_reg_imm,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,equal,Enumeration,Enumeration,y,Boolean,x,x,,sub8_reg_reg,,,,,zfa,,empty,,,,,zfa: sets z flag and a <> 0,
,,,,,,,,,,,,,,,,,,,,,,
,notequal,Byte,Byte,y,<Flag>,x,x,,compare8_reg_imm,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Byte,Byte,y,<Flag>,x,x,,compare8_reg_reg,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Byte,Byte,y,Boolean,x,x,,sub8_reg_imm,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Byte,Byte,y,Boolean,x,x,,sub8_reg_reg,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Int8,Int8,y,<Flag>,x,x,,compare8_reg_imm,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Int8,Int8,y,<Flag>,x,x,,compare8_reg_reg,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Int8,Int8,y,Boolean,x,x,,sub8_reg_imm,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Int8,Int8,y,Boolean,x,x,,sub8_reg_reg,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Word,Word,y,<Flag>,x,x,,:compare_u16,,,hl,de,nzf,a;f,empty,,,,,,
,notequal,Word,Word,y,Boolean,x,x,,:compare_u16,,,hl,de,nzf,a;f,empty,,,,,,
,notequal,Integer,Integer,y,<Flag>,x,x,,:compare_u16,,,hl,de,nzf,a;f,empty,,,,,,
,notequal,Integer,Integer,y,Boolean,x,x,,:compare_u16,,,hl,de,nzf,a;f,empty,,,,,,
,notequal,Word,Integer,y,<Flag>,x,x,,:equal_m16,,,hl,de,nzf,a;h;l;f,empty,,,,,,
,notequal,Integer,Word,y,<Flag>,x,x,,:equal_m16,,,hl,de,nzf,a;h;l;f,empty,,,,,,
,notequal,Word,Integer,y,Boolean,x,x,,:equal_m16,,,hl,de,nzf,a;h;l;f,empty,,,,,,
,notequal,Integer,Word,y,Boolean,x,x,,:equal_m16,,,hl,de,nzf,a;h;l;f,empty,,,,,,
,notequal,Boolean,Boolean,y,<Flag>,x,x,,xor8_reg_imm,,,,,nzf,,empty,,,,,,
,notequal,Boolean,Boolean,y,<Flag>,x,x,,xor8_reg_reg,,,,,nzf,,empty,,,,,,
,notequal,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_imm,,,,,a,,empty,,,,,Result in A,
,notequal,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_reg,,,,,a,,empty,,,,,Result in A,
,notequal,Char,Char,y,<Flag>,x,x,,compare8_reg_imm,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Char,Char,y,<Flag>,x,x,,compare8_reg_reg,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Char,Char,y,Boolean,x,x,,sub8_reg_imm,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Char,Char,y,Boolean,x,x,,sub8_reg_reg,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Enumeration,Enumeration,y,<Flag>,x,x,,compare8_reg_imm,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Enumeration,Enumeration,y,<Flag>,x,x,,compare8_reg_reg,,,,,nzf,,empty,,,,,For branches - only sets flag,
,notequal,Enumeration,Enumeration,y,Boolean,x,x,,sub8_reg_imm,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,notequal,Enumeration,Enumeration,y,Boolean,x,x,,sub8_reg_reg,,,,,nzfa,,empty,,,,,nzfa: sets z flag and a = 0,
,,,,,,,,,,,,,,,,,,,,,,
,less,Byte,Byte,n,<Flag>,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Byte,Byte,n,<Flag>,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Byte,Byte,n,Boolean,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,,
,less,Byte,Byte,n,Boolean,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,,
,less,Word,Word,n,<Flag>,x,x,,:compare_u16,,,hl,de,cf,a;f,empty,,,,,,
,less,Word,Word,n,Boolean,x,x,,:compare_u16,,,hl,de,cf,a;f,empty,,,,,,
,less,Integer,Integer,n,<Flag>,x,x,,:compare_s16,,,hl,de,cf,a;f,empty,,,,,,
,less,Integer,Integer,n,Boolean,x,x,,:compare_s16,,,hl,de,cf,a;f,empty,,,,,,
,less,Word,Integer,n,<Flag>,x,x,,:compare_u16_s16,,,hl,de,cf,a;h;l;f,empty,,,,,,
,less,Word,Integer,n,Boolean,x,x,,:compare_u16_s16,,,hl,de,cf,a;h;l;f,empty,,,,,,
,less,Integer,Word,n,<Flag>,x,x,,:compare_s16_u16,,,hl,de,cf,a;h;l;f,empty,,,,,,
,less,Integer,Word,n,Boolean,x,x,,:compare_s16_u16,,,hl,de,cf,a;h;l;f,empty,,,,,,
,less,Boolean,Boolean,n,<Flag>,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,,
,less,Boolean,Boolean,n,<Flag>,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,,
,less,Boolean,Boolean,n,Boolean,x,x,,bool_less8_reg_imm,,,,,a,,empty,,,,,Result in A,
,less,Boolean,Boolean,n,Boolean,x,x,,bool_less8_reg_reg,,,,,a,,empty,,,,,Result in A,
,less,Char,Char,n,<Flag>,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Char,Char,n,<Flag>,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Char,Char,n,Boolean,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,,
,less,Char,Char,n,Boolean,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,,
,less,Enumeration,Enumeration,n,<Flag>,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Enumeration,Enumeration,n,<Flag>,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,For branches - only sets flag,
,less,Enumeration,Enumeration,n,Boolean,x,x,,compare8_reg_imm,,,,,cf,,empty,,,,,,
,less,Enumeration,Enumeration,n,Boolean,x,x,,compare8_reg_reg,,,,,cf,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,greaterequal,Byte,Byte,n,<Flag>,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Byte,Byte,n,<Flag>,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Byte,Byte,n,Boolean,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,,
,greaterequal,Byte,Byte,n,Boolean,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,,
,greaterequal,Word,Word,n,<Flag>,x,x,,:compare_u16,,,hl,de,ncf,a;f,empty,,,,,,
,greaterequal,Word,Word,n,Boolean,x,x,,:compare_u16,,,hl,de,ncf,a;f,empty,,,,,,
,greaterequal,Integer,Integer,n,<Flag>,x,x,,:compare_s16,,,hl,de,ncf,a;f,empty,,,,,,
,greaterequal,Integer,Integer,n,Boolean,x,x,,:compare_s16,,,hl,de,ncf,a;f,empty,,,,,,
,greaterequal,Word,Integer,n,<Flag>,x,x,,:compare_u16_s16,,,hl,de,ncf,a;h;l;f,empty,,,,,,
,greaterequal,Word,Integer,n,Boolean,x,x,,:compare_u16_s16,,,hl,de,ncf,a;h;l;f,empty,,,,,,
,greaterequal,Integer,Word,n,<Flag>,x,x,,:compare_s16_u16,,,hl,de,ncf,a;h;l;f,empty,,,,,,
,greaterequal,Integer,Word,n,Boolean,x,x,,:compare_s16_u16,,,hl,de,ncf,a;h;l;f,empty,,,,,,
,greaterequal,Boolean,Boolean,n,<Flag>,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,,
,greaterequal,Boolean,Boolean,n,<Flag>,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,,
,greaterequal,Boolean,Boolean,n,Boolean,x,x,,bool_greaterequal8_reg_imm,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greaterequal,Boolean,Boolean,n,Boolean,x,x,,bool_greaterequal8_reg_reg,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greaterequal,Char,Char,n,<Flag>,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Char,Char,n,<Flag>,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Char,Char,n,Boolean,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,,
,greaterequal,Char,Char,n,Boolean,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,,
,greaterequal,Enumeration,Enumeration,n,<Flag>,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Enumeration,Enumeration,n,<Flag>,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,For branches - only sets flag,
,greaterequal,Enumeration,Enumeration,n,Boolean,x,x,,compare8_reg_imm,,,,,ncf,,empty,,,,,,
,greaterequal,Enumeration,Enumeration,n,Boolean,x,x,,compare8_reg_reg,,,,,ncf,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,greater,Byte,Byte,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,greater,Byte,Byte,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Byte,Byte,n,Boolean,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,,
,greater,Byte,Byte,n,Boolean,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Word,Word,n,<Flag>,x,x,,:compare_u16,,,de,hl,cf,a;f,empty,,,,,,
,greater,Word,Word,n,Boolean,x,x,,:compare_u16,,,de,hl,cf,a;f,empty,,,,,,
,greater,Integer,Integer,n,<Flag>,x,x,,:compare_s16,,,de,hl,cf,a;f,empty,,,,,,
,greater,Integer,Integer,n,Boolean,x,x,,:compare_s16,,,de,hl,cf,a;f,empty,,,,,,
,greater,Word,Integer,n,<Flag>,x,x,,:compare_s16_u16,,,de,hl,cf,a;h;l;f,empty,,,,,,
,greater,Word,Integer,n,Boolean,x,x,,:compare_s16_u16,,,de,hl,cf,a;h;l;f,empty,,,,,,
,greater,Integer,Word,n,<Flag>,x,x,,:compare_u16_s16,,,de,hl,cf,a;h;l;f,empty,,,,,,
,greater,Integer,Word,n,Boolean,x,x,,:compare_u16_s16,,,de,hl,cf,a;h;l;f,empty,,,,,,
,greater,Boolean,Boolean,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,,
,greater,Boolean,Boolean,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Boolean,Boolean,n,Boolean,x,x,,bool_greater8_reg_imm,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Boolean,Boolean,n,Boolean,x,x,,bool_greater8_reg_reg,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Char,Char,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,greater,Char,Char,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Char,Char,n,Boolean,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,,
,greater,Char,Char,n,Boolean,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Enumeration,Enumeration,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,For branches - only sets flag,
,greater,Enumeration,Enumeration,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,greater,Enumeration,Enumeration,n,Boolean,x,x,,compare8swap_reg_imm,,,,,cf,,empty,,,,,,
,greater,Enumeration,Enumeration,n,Boolean,x,x,,compare8swap_reg_reg,,,,,cf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,,,,,,,,,,,,,,,,,,,,,,
,lessequal,Byte,Byte,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,lessequal,Byte,Byte,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Byte,Byte,n,Boolean,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,,
,lessequal,Byte,Byte,n,Boolean,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Word,Word,n,<Flag>,x,x,,:compare_u16,,,de,hl,ncf,a;f,empty,,,,,,
,lessequal,Word,Word,n,Boolean,x,x,,:compare_u16,,,de,hl,ncf,a;f,empty,,,,,,
,lessequal,Integer,Integer,n,<Flag>,x,x,,:compare_s16,,,de,hl,ncf,a;f,empty,,,,,,
,lessequal,Integer,Integer,n,Boolean,x,x,,:compare_s16,,,de,hl,ncf,a;f,empty,,,,,,
,lessequal,Word,Integer,n,<Flag>,x,x,,:compare_s16_u16,,,de,hl,ncf,a;h;l;f,empty,,,,,,
,lessequal,Word,Integer,n,Boolean,x,x,,:compare_s16_u16,,,de,hl,ncf,a;h;l;f,empty,,,,,,
,lessequal,Integer,Word,n,<Flag>,x,x,,:compare_u16_s16,,,de,hl,ncf,a;h;l;f,empty,,,,,,
,lessequal,Integer,Word,n,Boolean,x,x,,:compare_u16_s16,,,de,hl,ncf,a;h;l;f,empty,,,,,,
,lessequal,Boolean,Boolean,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,,
,lessequal,Boolean,Boolean,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Boolean,Boolean,n,Boolean,x,x,,bool_lessequal8_reg_imm,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Boolean,Boolean,n,Boolean,x,x,,bool_lessequal8_reg_reg,,,,,a,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Char,Char,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,lessequal,Char,Char,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Char,Char,n,Boolean,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,,
,lessequal,Char,Char,n,Boolean,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Enumeration,Enumeration,n,<Flag>,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,For branches - only sets flag,
,lessequal,Enumeration,Enumeration,n,<Flag>,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,lessequal,Enumeration,Enumeration,n,Boolean,x,x,,compare8swap_reg_imm,,,,,ncf,,empty,,,,,,
,lessequal,Enumeration,Enumeration,n,Boolean,x,x,,compare8swap_reg_reg,,,,,ncf,,empty,,,,,"Operands reversed. A should be an option for param1, but allocator is greedy and would choose A for param1 and fail on param2",
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,or,Byte,Byte,y,Byte,x,x,,or8_reg_imm,,,,,,,empty,,,,,,
,or,Byte,Byte,y,Byte,x,x,,or8_reg_reg,,,,,,,empty,,,,,,
,or,Int8,Int8,y,Int8,x,x,,or8_reg_imm,,,,,,,empty,,,,,,
,or,Int8,Int8,y,Int8,x,x,,or8_reg_reg,,,,,,,empty,,,,,,
,or,Byte,Int8,y,Byte,x,x,,or8_reg_imm,,,,,,,empty,,,,,,
,or,Byte,Int8,y,Byte,x,x,,or8_reg_reg,,,,,,,empty,,,,,,
,or,Word,Word,y,Word,x,x,,or16_reg_imm,,,,,,,empty,,,,,,
,or,Word,Word,y,Word,x,x,,or16_reg_reg,,,,,,,empty,,,,,,
,or,Integer,Integer,y,Integer,x,x,,or16_reg_imm,,,,,,,empty,,,,,,
,or,Integer,Integer,y,Integer,x,x,,or16_reg_reg,,,,,,,empty,,,,,,
,or,Word,Integer,y,Word,x,x,,or16_reg_imm,,,,,,,empty,,,,,,
,or,Word,Integer,y,Word,x,x,,or16_reg_reg,,,,,,,empty,,,,,,
,or,Boolean,Boolean,y,Boolean,x,x,,or8_reg_imm,,,,,,,empty,,,,,,
,or,Boolean,Boolean,y,Boolean,x,x,,or8_reg_reg,,,,,,,empty,,,,,,
,or,Boolean,Boolean,y,<Flag>,x,x,,or8_reg_reg,,,,,nzf,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,and,Byte,Byte,y,Byte,x,x,,and8_reg_imm,,,,,,,empty,,,,,,
,and,Byte,Byte,y,Byte,x,x,,and8_reg_reg,,,,,,,empty,,,,,,
,and,Int8,Int8,y,Int8,x,x,,and8_reg_imm,,,,,,,empty,,,,,,
,and,Int8,Int8,y,Int8,x,x,,and8_reg_reg,,,,,,,empty,,,,,,
,and,Byte,Int8,y,Byte,x,x,,and8_reg_imm,,,,,,,empty,,,,,,
,and,Byte,Int8,y,Byte,x,x,,and8_reg_reg,,,,,,,empty,,,,,,
,and,Word,Word,y,Word,x,x,,and16_reg_imm,,,,,,,empty,,,,,,
,and,Word,Word,y,Word,x,x,,and16_reg_reg,,,,,,,empty,,,,,,
,and,Integer,Integer,y,Integer,x,x,,and16_reg_imm,,,,,,,empty,,,,,,
,and,Integer,Integer,y,Integer,x,x,,and16_reg_reg,,,,,,,empty,,,,,,
,and,Word,Integer,y,Word,x,x,,and16_reg_imm,,,,,,,empty,,,,,,
,and,Word,Integer,y,Word,x,x,,and16_reg_reg,,,,,,,empty,,,,,,
,and,Boolean,Boolean,y,Boolean,x,x,,and8_reg_imm,,,,,,,empty,,,,,,
,and,Boolean,Boolean,y,Boolean,x,x,,and8_reg_reg,,,,,,,empty,,,,,,
,and,Boolean,Boolean,y,<Flag>,x,x,,and8_reg_reg,,,,,nzf,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,xor,Byte,Byte,y,Byte,x,x,,xor8_reg_imm,,,,,,,empty,,,,,,
,xor,Byte,Byte,y,Byte,x,x,,xor8_reg_reg,,,,,,,empty,,,,,,
,xor,Int8,Int8,y,Int8,x,x,,xor8_reg_imm,,,,,,,empty,,,,,,
,xor,Int8,Int8,y,Int8,x,x,,xor8_reg_reg,,,,,,,empty,,,,,,
,xor,Byte,Int8,y,Byte,x,x,,xor8_reg_imm,,,,,,,empty,,,,,,
,xor,Byte,Int8,y,Byte,x,x,,xor8_reg_reg,,,,,,,empty,,,,,,
,xor,Word,Word,y,Word,x,x,,xor16_reg_imm,,,,,,,empty,,,,,,
,xor,Word,Word,y,Word,x,x,,xor16_reg_reg,,,,,,,empty,,,,,,
,xor,Integer,Integer,y,Integer,x,x,,xor16_reg_imm,,,,,,,empty,,,,,,
,xor,Integer,Integer,y,Integer,x,x,,xor16_reg_reg,,,,,,,empty,,,,,,
,xor,Word,Integer,y,Word,x,x,,xor16_reg_imm,,,,,,,empty,,,,,,
,xor,Word,Integer,y,Word,x,x,,xor16_reg_reg,,,,,,,empty,,,,,,
,xor,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_imm,,,,,,,empty,,,,,,
,xor,Boolean,Boolean,y,Boolean,x,x,,xor8_reg_reg,,,,,,,empty,,,,,,
,xor,Boolean,Boolean,y,<Flag>,x,x,,xor8_reg_reg,,,,,nzf,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,Unary operators,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,negate,Int8,none,n,Int8,x,x,,negate_s8,,,,,,,pe_overflow,,,,,,
,negate,Word,none,n,Integer,x,x,,:negate_u16_with_overflow,,,hl,,hl,h;l;d;e;f,nc_overflow,,,,,,
;,negate,Word,none,n,Integer,x,x,,:negate_u16_with_overflow,,,hl,,hl,h;l;d;e;f,nc_overflow,,nz_range,p_range,nz_range,,
;,negate,Word,none,n,Integer,n,x,,:negate_s16,,,hl,,hl,h;l;a;f,,,16bit_nz_range,16bit_positive_nz_range,16bit_nz_range,"Range errors: Byte, Word if non zero. Integer if non zero +ve",
;,,,,,,,,,,,,,,,,,,,,,,"Error checking the above is very difficult, so it has been removed to simplify things"
,negate,Integer,none,n,Integer,y,x,,:negate_HL_with_overflow,,,hl,,hl,h;l;a;f,nc_overflow,,,,,,
,negate,Integer,none,n,Integer,n,x,,:negate_s16,,,hl,,hl,h;l;a;f,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,complement,Byte,none,n,Byte,x,x,,cpla,,,,,,,empty,,,,,The way we're storing Booleans means we use the same code for bitwise and logical operations,
,complement,Int8,none,n,Int8,x,x,,cpla,,,,,,,empty,,,,,The way we're storing Booleans means we use the same code for bitwise and logical operations,
,complement,Word,none,n,Word,x,x,,cpl16_reg,,,,,,,empty,,,,,,
,complement,Pointer,none,n,Pointer,x,x,,cpl16_reg,,,,,,,empty,,,,,,
,complement,Integer,none,n,Integer,x,x,,cpl16_reg,,,,,,,empty,,,,,,
,complement,Boolean,none,n,Boolean,x,x,,cpla,,,,,,,empty,,,,,Does NOT set zero flag…,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,Intrinsics (I.e. small operations mostly enacted via CPU instructions),,,,,,,,,,,,,,,,,,,,,
;,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,abs,Integer,none,n,Integer,x,x,,:abs_hl_with_overflow,,,hl,,hl,a;f;h;l,nc_overflow,,,,,,
,abs,Byte,none,n,Byte,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,Does nothing!,
,abs,Word,none,n,Word,x,x,,empty,,,hl;de;bc,,param1,,empty,,,,,Does nothing!,
,abs,Pointer,none,n,Pointer,x,x,,empty,,,hl;de;bc,,param1,,empty,,,,,Does nothing!,
,,,,,,,,,,,,,,,,,,,,,,
,dec,Byte,Integer,n,None,x,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Byte,Word,n,None,x,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Int8,Integer,n,None,x,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Int8,Word,n,None,x,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Word,Integer,n,None,x,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Word,Word,n,None,x,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Integer,Integer,n,None,x,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Integer,Word,n,None,x,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Enumeration,Integer,n,None,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use DECs or SUBs,
,dec,Enumeration,Word,n,None,y,x,,sub8_reg_imm,,,,,,,c_overflow,,,,,Proc chooses whether to use DECs or SUBs,
,,,,,,,,,,,,,,,,,,,,,,
,inc,Byte,Integer,n,None,x,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Byte,Word,n,None,x,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Int8,Integer,n,None,x,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Int8,Word,n,None,x,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Word,Integer,n,None,x,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Word,Word,n,None,x,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Integer,Integer,n,None,x,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Integer,Word,n,None,x,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Enumeration,Integer,n,None,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking. Proc chooses whether to use INCs or ADDs,
,inc,Enumeration,Word,n,None,y,x,,add8_reg_imm,,,,,,,enum_overflow,,,,,Proc chooses whether to use INCs or ADDs,
,,,,,,,,,,,,,,,,,,,,,,
,odd,Byte,none,n,<Flag>,x,x,,odd8_rra,,,,,,,empty,,,,,Only A reg. Destructive,
;,odd,Byte,none,n,Boolean,x,x,,odd8_rr,,,,,,***Compiler can't handle '-corrupts p1',empty,,,,,Any register. Destructive. Result in CF,
,odd,Byte,none,n,<Flag>,x,x,,odd8_bit,,,,,,,empty,,,,,Any register. Non-destructive. Result in ZF,
,odd,Int8,none,n,<Flag>,x,x,,odd8_rra,,,,,,,empty,,,,,Only A reg. Destructive,
;,odd,Int8,none,n,Boolean,x,x,,odd8_rr,,,,,,***Compiler can't handle '-corrupts p1',empty,,,,,Any register. Destructive. Result in CF,
,odd,Int8,none,n,<Flag>,x,x,,odd8_bit,,,,,,,empty,,,,,Any register. Non-destructive. Result in ZF,
,odd,Word,none,n,<Flag>,x,x,load_rp_low,odd8_rra,,,,,,,empty,,,,,Only A reg. Destructive,
;,odd,Word,none,n,Boolean,x,x,load_rp_low,odd8_rr,,,,,,***Compiler can't handle '-corrupts p1',empty,,,,,Any register. Destructive. Result in CF,
,odd,Word,none,n,<Flag>,x,x,load_rp_low,odd8_bit,,,,,,,empty,,,,,Any register. Non-destructive. Result in ZF,
,odd,Integer,none,n,<Flag>,x,x,load_rp_low,odd8_rra,,,,,,,empty,,,,,Only A reg. Destructive,
;,odd,Integer,none,n,Boolean,x,x,load_rp_low,odd8_rr,,,,,,***Compiler can't handle '-corrupts p1',empty,,,,,Any register. Destructive. Result in CF,
,odd,Integer,none,n,<Flag>,x,x,load_rp_low,odd8_bit,,,,,,,empty,,,,,Any register. Non-destructive. Result in ZF,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,addrof,Pointer,none,n,Pointer,x,x,,addrof_static,,,,,,,empty,,,,,Address of static variable,
,addrof,Pointer,none,n,Pointer,x,x,,addrof_stack_via_de,,,,,,,empty,,,,,Address of stack variable.,
;,addrof,Pointer,none,n,Pointer,x,x,,addrof_stack_via_bc,,,,,,,empty,,,,,Address of stack variable. Untested,
,addrof,ArrayType,none,n,Pointer,x,x,,addrof_static,,,,,,,empty,,,,,Address of static variable,
,addrof,ArrayType,none,n,Pointer,x,x,,addrof_stack_via_de,,,,,,,empty,,,,,Address of static variable,
,addrof,Array,none,n,Pointer,x,x,,addrof_stack_via_de,,,,,,,empty,,,,,Address of stack variable.,
,,,,,,,,,,,,,,,,,,,,,,
,addrelement,Array,Byte,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Word,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Int8,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Integer,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Char,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Enumeration,n,Pointer,x,x,,proc_addrof_arrayelem_imm,,,static,imm,hl,,empty,,,,,Address of array element. Index is Immediate,
,addrelement,Array,Byte,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Array,Word,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,hl,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Array,Int8,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Array,Integer,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,hl,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Array,Char,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Array,Enumeration,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of array element. Index is in register,
,addrelement,Vector:Short,Byte,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,Vector:Short,Word,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,Vector:Short,Byte,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
;,addrelement,Vector:Short,Word,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,hl,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
;,addrelement,Vector:Long,Byte,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
,addrelement,Vector:Long,Word,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,Vector:Long,Word,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,hl,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
,addrelement,List:Short,Byte,n,Pointer,x,x,,proc_addrof_listelem_imm,,,hl,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,List:Short,Word,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,List:Short,Byte,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,static,l,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
;,addrelement,List:Short,Word,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,hl,de,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
;,addrelement,List:Long,Byte,n,Pointer,x,x,,proc_addrof_vectorelem_imm,,,static,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
,addrelement,List:Long,Word,n,Pointer,x,x,,proc_addrof_listelem_imm,,,hl,imm,hl,,empty,,,,,Address of vector element. Index is Immediate,
;,addrelement,List:Long,Word,n,Pointer,x,x,,proc_addrof_arrayelem_static_varsource,,,hl,de,hl,a;d;e;f,empty,,,,,Address of vector element. Index is in register,
,,,,,,,,,,,,,,,,,,,,,,
;,;Offsets for array types will always be known at compile time.,,,,,,,,,,,,,,,,,,,,,
,addroffset,Array,Byte,n,Pointer,x,x,,proc_addr_offset_imm,,,static,imm,hl,,empty,,,,,Address of offset from base of vactor. Can be used to get addr of a known element or meta data,
,addroffset,Array,Word,n,Pointer,x,x,,proc_addr_offset_imm,,,static,imm,hl,,empty,,,,,Address of offset from base of vactor. Can be used to get addr of a known element or meta data,
,addroffset,Vector,Byte,n,Pointer,x,x,,proc_addr_offset_imm,,,static,imm,hl,,empty,,,,,Address of offset from base of vactor. Can be used to get addr of a known element or meta data,
,addroffset,List,Word,n,Pointer,x,x,,proc_addr_offset_imm,,,static,imm,hl,,empty,,,,,Address of offset from base of vactor. Can be used to get addr of a known element or meta data,
,,,,,,,,,,,,,,,,,,,,,,
;,addroffset,Record,Byte,n,Pointer,x,x,,proc_addr_offset_imm,,,static,imm,hl,,empty,,,,,Address of a record field where param 2 is the offset to the field,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,capacity,List:Short,none,n,Byte,x,x,,length_shortvector,,,,,,,empty,,,,,Returns Capacity field of the list,
,capacity,List:Long,none,n,Word,x,x,,length_longvector,,,,,,,empty,,,,,Returns Capacity field of the list,
,,,,,,,,,,,,,,,,,,,,,,
;,deref,Pointer,none,n,Byte,x,x,,empty,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,hi,Word,none,n,Byte,x,x,load_rp_high,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,hi,Integer,none,n,Byte,x,x,load_rp_high,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,high,TypeDef,none,n,Byte,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Word,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Int8,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Integer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Pointer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Char,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Boolean,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,TypeDef,none,n,Enumeration,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,high,Vector:Short,none,n,Byte,x,x,,high_shortvector,,,,,,,empty,,,,,,
,high,Vector:Long,none,n,Word,x,x,,high_longvector,,,,,,,empty,,,,,,
,high,List:Short,none,n,Integer,x,x,,high_shortlist,,,,,,,empty,,,,,,
,high,List:Long,none,n,Integer,x,x,,high_longlist,,,,,,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,inp,Word,none,n,Byte,x,x,,in_reg_bc,,,,,,,empty,,,,,Current Primitive data can't cope with multiple result register options,
;,inp,Byte,none,n,Byte,x,x,,in_a_n,,,,,,,empty,,,,,Not yet supported (How to differentiate between the two? Compiler option?),
,,,,,,,,,,,,,,,,,,,,,,
;,keypressed,none,none,n,Boolean,x,x,,:s_keypressed,,,,,cf,a;f,empty,,,,,Is there a key waiting to be read?,
,,,,,,,,,,,,,,,,,,,,,,
,length,TypeDef,none,n,Byte,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,length,TypeDef,none,n,Word,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Int8,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Integer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Pointer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Char,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Boolean,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
;,length,TypeDef,none,n,Enumeration,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,length,Vector:Short,none,n,Byte,x,x,,length_shortvector,,,,,,,empty,,,,,,
,length,Vector:Long,none,n,Word,x,x,,length_longvector,,,,,,,empty,,,,,,
,length,List:Short,none,n,Byte,x,x,,length_shortlist,,,,,,,empty,,,,,,
,length,List:Long,none,n,Word,x,x,,length_longlist,,,,,,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,(Empty columns for formatting),,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,lo,Word,none,n,Byte,x,x,load_rp_low,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,lo,Integer,none,n,Byte,x,x,load_rp_low,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,low,TypeDef,none,n,Byte,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Word,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Int8,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Integer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Pointer,x,x,,error,,,imm,,hl,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Char,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Boolean,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,low,TypeDef,none,n,Enumeration,x,x,,error,,,imm,,a,,empty,,,,,Compile time only. Returns a constant at compile time. This is just a placeholder.,
,,,,,,,,,,,,,,,,,,,,,,
,ord,Byte,none,n,Byte,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,ord,Int8,none,n,Int8,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,ord,Word,none,n,LType,x,x,,empty,,,hl;de;bc,,param1,,empty,,,,,,
,ord,Integer,none,n,Integer,x,x,,empty,,,hl;de;bc,,param1,,empty,,,,,,
,ord,Boolean,none,n,Byte,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,ord,Char,none,n,Byte,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,ord,Enumeration,none,n,Byte,x,x,,empty,,,a;b;c;d;e;h;l,,param1,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,out,Word,Byte,n,None,x,x,,out_bc_reg,,,,,,,empty,,,,,,
,out,Word,Char,n,None,x,x,,out_bc_reg,,,,,,,empty,,,,,,
;,out,Byte,Byte,n,None,x,x,,out_n_a,,,,,,,empty,,,,,Not yet supported (How to differentiate between the two? Compiler option?),
;,out,Byte,Char,n,None,x,x,,out_n_a,,,,,,,empty,,,,,Not yet supported (How to differentiate between the two? Compiler option?),
,,,,,,,,,,,,,,,,,,,,,,
,peek,Pointer,Byte,n,Byte,x,x,,peek8_imm,,,,,,,empty,,,,,Param2 is consumed at compile time. We put imm here to fool the Primitive search algorithm,
,peek,Pointer,Byte,n,Byte,x,x,,peek8_r8_hl,,,,,,,empty,,,,,,
;,peek,Pointer,Byte,n,Byte,x,x,,peek8_a_r16,,,,,,,empty,,,,,,
,peek,Pointer,Int8,n,Int8,x,x,,peek8_imm,,,,,,,empty,,,,,Code gen can't handle choice of result registers,
,peek,Pointer,Int8,n,Int8,x,x,,peek8_r8_hl,,,,,,,empty,,,,,Code gen can't handle choice of result registers,
;,peek,Pointer,Int8,n,Int8,x,x,,peek8_a_r16,,,,,,,empty,,,,,Code gen can't handle choice of result registers,
,peek,Pointer,Word,n,Word,x,x,,peek16_imm,,,,,,,empty,,,,,,
,peek,Pointer,Word,n,Word,x,x,,peek16_reg16,,,,,,,empty,,,,,,
,peek,Pointer,Pointer,n,Pointer,x,x,,peek16_imm,,,,,,,empty,,,,,,
,peek,Pointer,Pointer,n,Pointer,x,x,,peek16_reg16,,,,,,,empty,,,,,,
,peek,Pointer,Integer,n,Integer,x,x,,peek16_imm,,,,,,,empty,,,,,,
,peek,Pointer,Integer,n,Integer,x,x,,peek16_reg16,,,,,,,empty,,,,,,
,peek,Pointer,Boolean,n,Boolean,x,x,,peek8_imm,,,,,,,empty,,,,,,
,peek,Pointer,Boolean,n,Boolean,x,x,,peek8_r8_hl,,,,,,,empty,,,,,,
;,peek,Pointer,Boolean,n,Boolean,x,x,,peek8_a_r16,,,,,,,empty,,,,,,
,peek,Pointer,Char,n,Char,x,x,,peek8_imm,,,,,,,empty,,,,,,
,peek,Pointer,Char,n,Char,x,x,,peek8_r8_hl,,,,,,,empty,,,,,,
;,peek,Pointer,Char,n,Char,x,x,,peek8_a_r16,,,,,,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,poke,Pointer,Byte,n,None,x,x,,poke_imm_a,,,,,,,empty,,,,,,
,poke,Pointer,Byte,n,None,x,x,,poke_hl_imm8,,,,,,,empty,,,,,,
,poke,Pointer,Byte,n,None,x,x,,poke_hl_reg8,,,,,,,empty,,,,,,
,poke,Pointer,Int8,n,None,x,x,,poke_imm_a,,,,,,,empty,,,,,,
,poke,Pointer,Int8,n,None,x,x,,poke_hl_imm8,,,,,,,empty,,,,,,
,poke,Pointer,Int8,n,None,x,x,,poke_hl_reg8,,,,,,,empty,,,,,,
;,poke,Pointer,Word,n,None,x,x,load_rp_low,poke_imm_a,,,,,,,empty,Does the programmer want to poke a word or just the low byte of the 16-bit value? We can't tell!,,,,,
;,poke,Pointer,Integer,n,None,x,x,load_rp_low,poke_imm_a,,,,,,,empty,For now all pokes are 8 bit until this can be resolved.,,,,,
;,poke,Pointer,Word,n,None,x,x,,poke_hl_imm8,,,,,,,empty,Possibly this requires an extra intrinsic: poke byte and poke typed.,,,,,
;,poke,Pointer,Integer,n,None,x,x,,poke_hl_imm8,,,,,,,empty,,,,,,
;,poke,Pointer,Word,n,None,x,x,load_rp_low,poke_hl_reg8,,,,,,,empty,,,,,,
;,poke,Pointer,Integer,n,None,x,x,load_rp_low,poke_hl_reg8,,,,,,,empty,,,,,,
,poke,Pointer,Boolean,n,None,x,x,,poke_imm_a,,,,,,,empty,,,,,,
,poke,Pointer,Boolean,n,None,x,x,,poke_hl_imm8,,,,,,,empty,,,,,,
,poke,Pointer,Boolean,n,None,x,x,,poke_hl_reg8,,,,,,,empty,,,,,,
,poke,Pointer,Char,n,None,x,x,,poke_imm_a,,,,,,,empty,,,,,,
,poke,Pointer,Char,n,None,x,x,,poke_hl_imm8,,,,,,,empty,,,,,,
,poke,Pointer,Char,n,None,x,x,,poke_hl_reg8,,,,,,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,pred,Byte,Byte,n,Byte,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,pred,Byte,Byte,n,Byte,y,x,,sub8_reg_imm,,,,,,,c_overflow,m_overflow,,,,,
,pred,Int8,Int8,n,Int8,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,pred,Int8,Int8,n,Int8,y,x,,sub8_reg_imm,,,,,,,pe_overflow,,m_range,,m_range,,
,pred,Word,Integer,n,Word,n,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,pred,Word,Word,n,Word,y,x,,sub16,,,,,,,c_overflow,,,m_range,,,
,pred,Pointer,Integer,n,Pointer,n,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,pred,Pointer,Word,n,Pointer,y,x,,sub16,,,,,,,c_overflow,,,m_range,,,
,pred,Integer,Integer,n,Integer,n,x,,proc_dec16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,pred,Integer,Integer,n,Integer,y,x,,sub16,,,,,,,pe_overflow,,,,m_range,,
,pred,Boolean,Integer,n,Boolean,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,pred,Boolean,Byte,n,Boolean,y,x,,cpla,,,,,,,c_overflow,m_range,,,,TODO: BoolDEC should be INC!! Error if result not $00,
,pred,Char,Integer,n,Char,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,pred,Char,Byte,n,Char,y,x,,sub8_reg_imm,,,,,,,c_overflow,m_range,,,,,
,pred,Enumeration,Integer,n,Ltype,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,pred,Enumeration,Byte,n,Ltype,y,x,,sub8_reg_imm,,,,,,,c_overflow,m_range,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,readkey,none,none,n,Char,x,x,,:s_readkey,,,,,a,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,setlength,List:Short,Byte,n,none,x,y,,:__q_setlength_shortlist_error,,,hl,b,,h;l;f,empty,,,,,Range checking,
,setlength,List:Short,Byte,n,none,x,n,,setlength_shortlist_noerror,,,,,,,empty,,,,,No range checking,
,setlength,List:Long,Word,n,none,x,y,,:__q_setlength_longlist_error,,,hl,de,,h;l;a;f,empty,,,,,Range checking,
,setlength,List:Long,Word,n,none,x,n,,setlength_longlist_noerror,,,,,,,empty,,,,,No range checking,
,,,,,,,,,,,,,,,,,,,,,,
,sizeof,Typedef,none,n,Word,x,x,,proc_sizeof,,,hl,,hl,,empty,,,,,Compile time only (until we have variant arrays <g>),
,sizeof,Vector:Short,none,n,Word,x,x,,sizeof_shortvectorofbyte,,,,,,,empty,,,,,Where elementsize is 1,
,sizeof,Vector:Short,Word,n,Word,x,x,,sizeof_shortvector,,,,,,,empty,,,,,Param2 is elementsize,
,sizeof,Vector:Long,none,n,Word,x,x,,sizeof_longvectorofbyte,,,,,,,empty,,,,,Where elementsize is 1,
,sizeof,Vector:Long,Word,n,Word,x,x,,sizeof_longvector,,,,,,,empty,,,,,Param2 is elementsize,
,sizeof,List:Short,none,n,Word,x,x,,sizeof_shortlistofbyte,,,,,,,empty,,,,,Where elementsize is 1,
,sizeof,List:Short,Word,n,Word,x,x,,sizeof_shortlist,,,,,,,empty,,,,,Param2 is elementsize,
,sizeof,List:Long,none,n,Word,x,x,,sizeof_longlistofbyte,,,,,,,empty,,,,,Where elementsize is 1,
,sizeof,List:Long,Word,n,Word,x,x,,sizeof_longlist,,,,,,,empty,,,,,Param2 is elementsize,
,,,,,,,,,,,,,,,,,,,,,,
,succ,Byte,Byte,n,Byte,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,succ,Byte,Byte,n,Byte,y,x,,add8_reg_imm,,,,,,,c_overflow,m_range,,,,,
,succ,Int8,Int8,n,Int8,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,succ,Int8,Int8,n,Int8,y,x,,add8_reg_imm,,,,,,,pe_overflow,,m_range,,m_range,,
,succ,Word,Integer,n,Word,n,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,succ,Word,Word,n,Word,y,x,,add16_overflow,,,,,,,c_overflow,,,m_range,,,
,succ,Pointer,Integer,n,Pointer,n,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,succ,Pointer,Word,n,Pointer,y,x,,add16_overflow,,,,,,,c_overflow,,,m_range,,,
,succ,Integer,Integer,n,Integer,n,x,,proc_inc16_reg,,,hl;de;bc,imm,param1,,empty,,,,,No overflow checking,
,succ,Integer,Integer,n,Integer,y,x,,add16_overflow,,,,,,,pe_overflow,,,,m_range,,
,succ,Boolean,Integer,n,Boolean,n,x,,proc_dec8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,succ,Boolean,Byte,n,Boolean,y,x,,cpla,,,,,,,c_overflow,m_range,,,,TODO: BoolINC should be DEC!! Error if result not $ff,
,succ,Char,Integer,n,Char,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,succ,Char,Byte,n,Char,y,x,,add8_reg_imm,,,,,,,c_overflow,m_range,,,,,
,succ,Enumeration,Integer,n,Ltype,n,x,,proc_inc8_reg,,,a;b;c;d;e;h;l,imm,param1,f,empty,,,,,No overflow checking,
,succ,Enumeration,Byte,n,LType,y,x,,add8_reg_imm,,,,,,,enum_overflow,m_range,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,swap,Word,none,n,Word,x,x,,swap_reg_reg,,,,,,,empty,,,,,Lreg and ResultReg must be different,
,swap,Integer,none,n,Integer,x,x,,swap_reg_reg,,,,,,,empty,,,,,Lreg and ResultReg must be different,
,,,,,,,,,,,,,,,,,,,,,,
,write,Int8,none,n,none,x,x,,:write_integer,,,hl,,,a;f;hl,empty,,,,,,
,write,Integer,none,n,none,x,x,,:write_integer,,,hl,,,a;f;hl,empty,,,,,,
,write,Byte,none,n,none,x,x,,:write_byte,,,l,,,a;f;hl,empty,,,,,,
,write,Word,none,n,none,x,x,,:write_word,,,hl,,,a;f;hl,empty,,,,,,
,write,Pointer,none,n,none,x,x,,:write_word,,,hl,,,a;f;hl,empty,,,,,,
,write,Boolean,none,n,none,x,x,,:write_bool,,,a,,,a;f;hl,empty,,,,,,
,write,Char,none,n,none,x,x,,:s_writechar,,,a,,,,empty,,,,,,
,write,Array:Short,Byte,n,none,x,x,,:__q_writeshortarray,,,hl,a,,a;f;b;hl,empty,,,,,Where second parameter supplies the length,
,write,Array:Long,Word,n,none,x,x,,:__q_writelongarray,,,hl,bc,,a;f;bc;hl,empty,,,,,Where second parameter supplies the length,
,write,Vector:Short,none,n,none,x,x,,:__q_writeshortvector,,,hl,,,a;f;b;hl,empty,,,,,,
,write,Vector:Long,none,n,none,x,x,,:__q_writelongvector,,,hl,,,a;f;bc;hl,empty,,,,,,
,write,List:Short,none,n,none,x,x,,:__q_writeshortlist,,,hl,,,a;f;b;hl,empty,,,,,,
,write,List:Long,none,n,none,x,x,,:__q_writelonglist,,,hl,,,a;f;bc;hl,empty,,,,,,
,writeln,none,none,n,none,x,x,,:s_newline,,,,,,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,,----Primitive Selection----,,,,----Primitive Data----,,,,,,,,,,,Optimised range checks for type conversions,,,,,
;,Operation,Ltype,Rtype,Commutative,ResultType,OverflowChecking,BoundsCheck,Flags,Proc/Fragment/Subroutine,,,Lregs,Rregs,ResultRegs,Corrupts,OverflowCheck,Int8,Byte,Integer,Word,Notes,
,chr,Byte,none,n,Char,x,x,,empty,,,a;b;c;d;e;h;l,,Param1,,empty,,,,,Basically we're doing a tyecast but with validation available,
;,chr,Byte,none,n,Char,y,x,,proc_validate_byte,,,a;b;c;d;e;h;l,,Param1,,empty,,,,,Basically we're doing a tyecast but with validation available,
,,,,,,,,,,,,,,,,,,,,,,
,downcase,Char,none,n,Char,x,x,,:downcase_char,,,a,,a,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
;,length,Array,none,n,Word,x,x,,empty,,,imm,,hl,,empty,,,,,Returns element size of an array,
;,length,TypeDef,none,n,Word,x,x,,empty,,,imm,,hl,,empty,,,,,Returns element size of any array type (defined at comple time),
,,,,,,,,,,,,,,,,,,,,,,
,upcase,Char,none,n,Char,x,x,,:upcase_char,,,a,,a,,empty,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,
END,,,,,,,,,,,,,,,,,,,,,,
